ns.Textarea=function(e,t,i,r){this.parent=e,this.field=t,this.value=i,this.setValue=r},ns.Textarea.prototype.appendTo=function(e){var t=this;this.$item=ns.$(this.createHtml()).appendTo(e),this.$input=this.$item.find("textarea"),this.$errors=this.$item.find(".h5p-errors"),ns.bindImportantDescriptionEvents(this,this.field.name,this.parent),this.$input.change((function(){var e=t.validate();!1!==e&&t.setValue(t.field,ns.htmlspecialchars(e))}))},ns.Textarea.prototype.createHtml=function(){const e=ns.getNextFieldId(this.field);var t='<textarea cols="30" rows="4" id="'+e+'"';return void 0!==this.field.description&&(t+=' aria-describedby="'+ns.getDescriptionId(e)+'"'),void 0!==this.field.placeholder&&(t+=' placeholder="'+this.field.placeholder+'"'),t+=">",void 0!==this.value&&(t+=this.value),t+="</textarea>",ns.createFieldMarkup(this.field,ns.createImportantDescription(this.field.important)+t,e)},ns.Textarea.prototype.validate=function(){var e=H5P.trim(this.$input.val()),t=!0;return this.$errors.html(""),void 0!==this.field.optional&&this.field.optional||e.length?e.length>this.field.maxLength?(this.$errors.append(ns.createError(ns.t("core","tooLong",{":max":this.field.maxLength}))),t=!1):void 0===this.field.regexp||e.match(new RegExp(this.field.regexp.pattern,this.field.regexp.modifiers))||(this.$errors.append(ns.createError(ns.t("core","invalidFormat"))),t=!1):(this.$errors.append(ns.createError(ns.t("core","requiredProperty",{":property":ns.t("core","textField")}))),t=!1),this.$input.toggleClass("error",!t),ns.checkErrors(this.$errors,this.$input,e)},ns.Textarea.prototype.remove=function(){this.$item.remove()},ns.widgets.textarea=ns.Textarea;