var H5PEditor=H5PEditor||{},H5PPresave=H5PPresave||{};H5PEditor.Presave=function(r){"use strict";function t(){this.maxScore=0}return t.prototype.process=function(r,e){var i=this;return r=t.sanitizeLibrary(r),!0===t.libraryExists(r)&&H5PPresave[r](e,(function(r){"object"==typeof r&&r.hasOwnProperty("maxScore")&&t.isInt(r.maxScore)&&(i.maxScore+=r.maxScore)})),this},t.validateScore=function(r){if(!t.isInt(r)||r<0)throw new this.exceptions.InvalidMaxScoreException;return!0},t.checkNestedRequirements=function(r,t){if(void 0===r)return!1;"string"==typeof t&&(t=t.split("."));for(var e=1;e<t.length;e++){if(!r.hasOwnProperty(t[e]))return!1;r=r[t[e]]}return!0},t.isInt=function(r){return!isNaN(r)&&(0|(t=parseFloat(r)))===t;var t},t.libraryExists=function(r){return void 0!==H5PPresave[r]},t.sanitizeLibrary=function(t){return r.libraryFromString(t).machineName||t},t.exceptions={InvalidMaxScoreException:function(t){this.message="string"==typeof t?t:r.t("core","errorCalculatingMaxScore"),this.name="InvalidMaxScoreError",this.code="H5P-P400"},InvalidContentSemanticsException:function(t,e){this.message="string"==typeof e?e:r.t("core","semanticsError",{":error":r.t("core","maxScoreSemanticsMissing")}),this.name="string"==typeof t?t:"Invalid Content Semantics Error",this.code="H5P-P500"}},t.prototype.constructor=t,t}(H5PEditor);